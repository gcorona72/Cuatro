<!DOCTYPE html>
          <html lang="es">
          <head>
            <meta charset="UTF-8" />
            <title>Gestión de Invitados</title>
            <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
            <style>
              /* Estilos compilados del SCSS */
              body, html {
                background-color: #EBECF0;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
              }
              body, p, input, select, textarea, button {
                font-family: 'Montserrat', sans-serif;
                letter-spacing: -0.2px;
                font-size: 16px;
              }
              div, p, label {
                color: #000; /* Cambiar el color del texto a negro */
                text-shadow: 1px 1px 1px #FFF;
              }
              form {
                padding: 16px;
                width: 320px;
                margin: 0 auto;
              }
              .segment {
                padding: 32px 0;
                text-align: center;
              }
              button, input {
                border: 0;
                outline: 0;
                font-size: 16px;
                border-radius: 320px;
                padding: 16px;
                background-color: #EBECF0;
                text-shadow: 1px 1px 0 #FFF;
              }
              label {
                display: block;
                margin-bottom: 24px;
                width: 100%;
              }
              input {
                margin-right: 8px;
                box-shadow: inset 2px 2px 5px #BABECC, inset -5px -5px 10px #FFF;
                width: 100%;
                box-sizing: border-box;
                transition: all 0.2s ease-in-out;
                appearance: none;
                -webkit-appearance: none;
              }
              input:focus {
                box-shadow: inset 1px 1px 2px #BABECC, inset -1px -1px 2px #FFF;
              }
              button {
                color: #61677C;
                font-weight: 600;
                box-shadow: -5px -5px 20px #FFF, 5px 5px 20px #BABECC;
                transition: all 0.2s ease-in-out;
                cursor: pointer;
              }
              button:hover {
                box-shadow: -2px -2px 5px #FFF, 2px 2px 5px #BABECC;
              }
              button:active {
                box-shadow: inset 1px 1px 2px #BABECC, inset -1px -1px 2px #FFF;
              }
              button .icon {
                margin-right: 8px;
              }
              button.unit {
                border-radius: 8px;
                line-height: 0;
                width: 48px;
                height: 48px;
                display: inline-flex;
                justify-content: center;
                align-items: center;
                margin: 0 8px;
                font-size: 19.2px;
              }
              button.unit .icon {
                margin-right: 0;
              }
              button.red {
                display: block;
                width: 100%;
                color: #AE1100;
              }
              .input-group {
                display: flex;
                align-items: center;
                justify-content: flex-start;
              }
              .input-group label {
                margin: 0;
                flex: 1;
              }
            </style>
          </head>
          <body>
            <div>
              <h1>Gestión de Invitados</h1>

              <div class="segment">
                <button id="btnCargar">Cargar Invitados</button>
                <div id="lista"></div>
              </div>

              <hr>

              <h2>Agregar Invitado</h2>
              <form id="formInvitado">
                <div class="input-group">
                  <label for="nombre">Nombre:</label>
                  <input type="text" id="nombre" name="nombre" />
                </div>
                <div class="input-group">
                  <label for="acompanante">Acompañante:</label>
                  <input type="checkbox" id="acompanante" name="acompanante" />
                </div>
                <button type="button" id="btnAgregar">Agregar</button>
              </form>
            </div>

            <script>
              // 1. Cargar invitados
              document.getElementById('btnCargar').addEventListener('click', () => {
                fetch('/api/guests')
                  .then(resp => resp.json())
                  .then(data => {
                    const divLista = document.getElementById('lista');
                    divLista.innerHTML = '';
                    data.forEach(g => {
                      const p = document.createElement('p');
                      p.textContent = `#${g.id} - ${g.nombre} (Acompañante: ${g.acompanante})`;
                      divLista.appendChild(p);
                    });
                  })
                  .catch(err => console.error(err));
              });

              // 2. Agregar invitado
              document.getElementById('btnAgregar').addEventListener('click', () => {
                const nombre = document.getElementById('nombre').value;
                const acompanante = document.getElementById('acompanante').checked;

                fetch('/api/guests', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ nombre: nombre, acompanante: acompanante })
                })
                  .then(resp => resp.json())
                  .then(result => {
                    console.log(result);
                    alert('¡Invitado agregado con éxito!');
                  })
                  .catch(err => console.error(err));
              });
            </script>
          </body>
          </html>